{% extends 'base.html.twig' %}

{% block title %}Statistique{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('css/stats.css')}}">
{% endblock %}

{% block body %}
    <section class="container">
        <h1 class="title-stats text-center">Statistiques</h1>

        <div class="d-flex justify-content-center m-5">
            {{ form_start(form) }}
                <div class="d-fex ">
                    <div class="d-flex flex-nowrap">
                        <label class="m-2">DÃ©but</label>
                        {{ form_widget(form.start) }}
                    </div>
                    <div class="d-flex flex-nowrap">
                        <label class="m-2">Fin</label>
                        {{ form_widget(form.end) }}
                    </div>
                    <div class="d-flex justify-content-center">
                        {{ form_widget(form.Rechercher) }}
                    </div>
                </div>
            {{ form_end(form) }}
        </div>

        <div id="graphs">
            <canvas class="m-4" id="produitsCount2"></canvas>
            <canvas class="m-4" id="produitsCount"></canvas>
            <canvas class="m-4" id="categories-sommes"></canvas>
            <canvas class="m-4" id="categories-number"></canvas>
        </div>
    </section>
{% endblock %}

{% block javascripts %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/chart.min.js" integrity="sha512-sW/w8s4RWTdFFSduOTGtk4isV1+190E/GghVffMA9XczdJ2MDzSzLEubKAs5h0wzgSJOQTRYyaz73L3d6RtJSg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
        let categoriesJson = {{ categoriesJson|raw }};
        let produitsJson = {{ produitsJson|raw }};
        let produitsJson2 = {{ produitsJson2|raw }};
    </script>
    <script src="{{ asset('js/stats.js')}}"></script>
{% endblock %}
